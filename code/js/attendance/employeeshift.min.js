var employee_shift_obj=null;$("#btnEmployeeShiftClear").button().bind("click",clearEmployeeShift);$("#btnEmployeeShiftUpdate").button().bind("click",updateEmployeeShift);$("#btnEmployeeShiftPrint").button().bind("click",printEmployeeShift);$("#employee-shift-tabs").tabs();$("#rdoEmployeeShiftType").focus();$(window).resize(resizeEmployeeShiftGrid);resizeEmployeeShiftGrid();clearEmployeeShift();function resizeEmployeeShiftGrid(){var a=$("#sbg-center-panel").outerHeight()-$("#sbg-employee-shift-entry").outerHeight()-55;$("div#sbg-employee-shift-data").css("height",a+"px")}function clearEmployeeShift(){$("#txtEmployeeShiftId").val("");$("input:radio[name=rdoEmployeeShiftType][value=0]").prop("checked",true);$("#rdoEmployeeShiftType").focus();$("#cobShiftGroup").val("");$(".cobShift").val("");$("#cobRateGroup").val("");$("#cobTimeCard").val("");$("#employee-shift-tabs").tabs("option","active",0);$("#btnEmployeeShiftUpdate").prop("disabled","disabled");$("#employee_shift_err_mesg").text("");$("#employee_shift_name").text("");employee_shift_obj=null}function updateEmployeeShift(){saveEmployeeShift(C_UPDATE)}function saveEmployeeShift(b){if(validateEmployeeShift()){var d=$("input:radio[name=rdoEmployeeShiftType]:checked").val();var c={type:b,id:$("#txtEmployeeShiftId").val(),shifttype:d,groupid:$("#cobShiftGroup").val(),rateid:$("#cobRateGroup").val(),timecardid:$("#cobTimeCard").val()};var a="request.pzx?c="+employee_shift_url+"&d="+new Date().getTime();callServer(a,"json",c,onEmployeeShiftResponse,employee_shift_obj)}}function printEmployeeShift(){var a="report.pzx?c="+employee_shift_url+"&d="+new Date().getTime();showReport(a)}function editEmployeeShift(d,c){var b={type:C_GET,id:d};var a="request.pzx?c="+employee_shift_url+"&d="+new Date().getTime();employee_shift_obj=c;callServer(a,"json",b,showEmployeeShift,c)}function showEmployeeShift(a,b){if(b.status==C_OK){$("#txtEmployeeShiftId").val(b.data.id);$("input:radio[name=rdoEmployeeShiftType][value="+b.data.shifttype+"]").prop("checked",true);$("#cobShiftGroup").val(b.data.groupid);$("#cobRateGroup").val(b.data.rateid);$("#cobTimeCard").val(b.data.timecardid);$("#employee_shift_name").text(b.data.emp_name);$("#btnEmployeeShiftUpdate").prop("disabled","")}else{showDialog("System Message",b.mesg)}}function onEmployeeShiftResponse(a,b){if(b.status==C_OK){if(b.type==C_UPDATE){if($("#rdoEmployeeShiftType:checked").val()=="D"){var c="Daily"}else{if($("#rdoEmployeeShiftType:checked").val()=="W"){var c="Weekly"}}$($(a).closest("tr")).children("td:eq(1)").text($("#employee_shift_name").text());$($(a).closest("tr")).children("td:eq(2)").html(c);$($(a).closest("tr")).children("td:eq(3)").text($("#cobShiftGroup :selected").text());$($(a).closest("tr")).children("td:eq(4)").text($("#cobRateGroup :selected").text())}$("#sbg-popup-box").html(b.mesg);$("#sbg-popup-box").show();$("#sbg-popup-box").fadeOut(10000);clearEmployeeShift()}else{showDialog("Error",b.mesg)}}function validateEmployeeShift(){$("#employee_shift_err_mesg").text("");if($("input:radio[name=rdoEmployeeShiftType]:checked").blank()){$("#employee_shift_err_desc").show();$("#rdoEmployeeShiftType").focus();$("#employee_shift_err_mesg").text("shift type must be chosen.");return false}if($("#cobShiftGroup").val()==0||$("#cobShiftGroup").val()==""){$("#employee_shift_err_desc").show();$("#cobShiftGroup").focus();$("#employee_shift_err_mesg").text("shift group can not be blank.");return false}else{$("#employee_shift_err_desc").hide()}if($("#cobRateGroup").val()==0||$("#cobRateGroup").val()==""){$("#employee_shift_err_desc").show();$("#cobRateGroup").focus();$("#employee_shift_err_mesg").text("Rate group can not be blank.");return false}else{$("#employee_shift_err_desc").hide()}if($("#cobTimeCard").val()==0||$("#cobTimeCard").val()==""){$("#employee_shift_err_desc").show();$("#cobTimeCard").focus();$("#employee_shift_err_mesg").text("Default time card can not be blank.");return false}else{$("#employee_shift_err_desc").hide()}return true};