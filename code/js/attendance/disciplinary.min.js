var disciplinary_sort=new Array();$(document).ready(function(){var a={dateFormat:"dd/mm/yy",showOn:"button",buttonImage:"image/calendar.gif",buttonImageOnly:true};$("#txtDateReportBegin").datepicker(a);var c={dateFormat:"dd/mm/yy",appendText:"  dd/mm/yyyy",showOn:"button",buttonImage:"image/calendar.gif",buttonImageOnly:true};var b;for(b=0;b<document.getElementById("sbg-disciplinary-table").rows[0].cells.length;b++){disciplinary_sort[b]=1}$("#txtDateReportEnd").datepicker(c);$("#btnDisciplinaryView").button().bind("click",viewDisciplinary);$("#btnDisciplinaryPrint").button().bind("click",printDisciplinary);$("#btnDisciplinaryExport").button().bind("click",exportDisciplinary);$("#txtDateReport").focus();$(window).resize(resizeDisciplinaryGrid);resizeDisciplinaryGrid()});function sort_table(a){var g=disciplinary_sort[a];for(c=0;c<document.getElementById("sbg-disciplinary-table").rows[0].cells.length;c++){disciplinary_sort[c]=(a==c?disciplinary_sort[c]*-1:1)}var d=document.getElementById("sbg-disciplinary-table");var l=d.rows,h=l.length,e=new Array(),c,b,k,f;for(c=1;c<h;c++){k=l[c].cells;f=k.length;e[c-1]=new Array();for(b=0;b<f;b++){e[c-1][b]=k[b].innerHTML;k[b].innerHTML=""}}e.sort(function(j,i){return(j[a]==i[a])?0:((j[a]>i[a])?g:-1*g)});for(c=1;c<h;c++){k=l[c].cells;f=k.length;for(b=0;b<f;b++){k[b].innerHTML=e[c-1][b]}}}function resizeDisciplinaryGrid(){var a=$("#sbg-center-panel").outerHeight()-$("#sbg-disciplinary-option").outerHeight()-55;$("div#sbg-disciplinary-data").css("height",a+"px")}function exportDisciplinary(){if(validateDisciplinary()){var d=($("input:radio[name=rdoCriteria]:checked").val()=="D")?$("#cobDepartment").val():"-1";var b=($("input:radio[name=rdoCriteria]:checked").val()=="P")?$("#txtEmpIdBegin").val():"-1";var c=($("input:radio[name=rdoCriteria]:checked").val()=="P")?$("#txtEmpIdEnd").val():"-1";var a="report.pzx?c="+disciplinary_url+"&d="+new Date().getTime()+"&reporttype="+$("#cboType").val()+"&empIdBegin="+b+"&empIdEnd="+c+"&dt="+$("#txtDateReportBegin").val()+"&dtend="+$("#txtDateReportEnd").val()+"&dp="+d+"&t="+C_EXPORT;showReport(a)}}function printDisciplinary(){var d=($("input:radio[name=rdoCriteria]:checked").val()=="D")?$("#cobDepartment").val():"-1";var b=($("input:radio[name=rdoCriteria]:checked").val()=="P")?$("#txtEmpIdBegin").val():"-1";var c=($("input:radio[name=rdoCriteria]:checked").val()=="P")?$("#txtEmpIdEnd").val():"-1";var a="report.pzx?c="+disciplinary_url+"&d="+new Date().getTime()+"&reporttype="+$("#cboType").val()+"&empIdBegin="+b+"&empIdEnd="+c+"&dt="+$("#txtDateReportBegin").val()+"&dtend="+$("#txtDateReportEnd").val()+"&dp="+d+"&t="+C_REPORT;showReport(a)}function viewDisciplinary(){var e=($("input:radio[name=rdoCriteria]:checked").val()=="D")?$("#cobDepartment").val():"-1";var c=($("input:radio[name=rdoCriteria]:checked").val()=="P")?$("#txtEmpIdBegin").val():"-1";var d=($("input:radio[name=rdoCriteria]:checked").val()=="P")?$("#txtEmpIdEnd").val():"-1";var b={type:C_LIST,empIdBegin:c,empIdEnd:d,dept:e,dateReportBegin:$("#txtDateReportBegin").val(),dateReportEnd:$("#txtDateReportEnd").val(),reporttype:$("#cboType").val()};var a="request.pzx?c="+disciplinary_url+"&d="+new Date().getTime();callServer(a,"html",b,showDisciplinary)}function validateDisciplinary(){if(isNaN($("#txtEmpIdBegin").val())){if(!isNaN($("#txtEmpIdEnd").val())){showDialog("Error","Invalid employee id range.");return false}}if(!isNaN($("#txtEmpIdBegin").val())){if(isNaN($("#txtEmpIdEnd").val())){showDialog("Error","Invalid employee id range.");return false}}return true}function showDisciplinary(b,c){var a='<tr><td style="width:50px;height:1px""></td><td style="width:150px"></td><td style="width:80px"></td><td style="width:80px"></td><td style="width:80px"></td><td style="width:80px"></td><td style="width:80px"></td></tr>';$("#sbg-disciplinary-table").html(a+c)};