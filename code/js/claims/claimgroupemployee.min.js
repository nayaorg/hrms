var claim_group_employee_obj=null;var m_limitidx=0;$(document).ready(function(){$("#cobDept").change(populateEmployee);$(window).resize(resizeClaimGroupEmpGrid);resizeClaimGroupEmpGrid()});function resizeClaimGroupEmpGrid(){var a=$("#sbg-center-panel").outerHeight()-$("#sbg-claim-group-entry").outerHeight()-55;$("div#sbg-claim-group-data").css("height",a+"px")}function clearClaimGroupEmployee(){claim_group_employee_obj=null;$("#tblLimit").empty();m_limitidx=0}function addEmpLimit(){m_limitidx++;$("#tblLimit").append("<tr id='tritem"+m_limitidx+"'><td style='width:30px;'>"+m_limitidx+"</td><td style='width:50px;'><input style='width:50px' id='txtEmpId"+m_limitidx+"' value='"+$("#cobEmp").val()+"'></input></td><td style='width:120px;'><input style='width:200px' id='txtEmployee"+m_limitidx+"' value='"+$("#cobEmp :selected").text()+"'></input></td><td style='width:40px;text-align:center;'><a href='javascript:' onclick='removeEmpLimit("+m_limitidx+")'><img src='image/remove_16.png' title='Remove'></img></a></td></tr>");$("#txtEmpId"+m_limitidx).append($("#txtEmpId").html())}function removeEmpLimit(a){$("#tritem"+a).remove()}function showEmpLimit(b){if(b==undefined||b==null||b==""){return}$("#tblHeadLimit").empty();var a=b.split("|");var d="";m_limitidx=0;for(var c=0;c<a.length;c++){if(a[c]!=""){d=a[c].split(":");m_limitidx++;$("#tblLimit").append("<tr id='tritem"+m_limitidx+"'><td style='width:30px;'>"+m_limitidx+"</td><td style='width:50px;'><input style='width:50px' id='txtEmpId"+m_limitidx+"' value='"+d[0]+"'></input></td><td style='width:120px;'><input style='width:200px' id='txtEmployee"+m_limitidx+"' value='"+d[1]+"'></input></td><td style='width:40px;text-align:center;'><a href='javascript:' onclick='removeHeadLimit("+m_limitidx+")'><img src='image/remove_16.png' title='Remove'></img></a></td></tr>");$("#txtEmpId"+m_limitidx).append($("#txtEmpId").html());$("#txtEmployee"+m_limitidx).append($("#txtEmployee").html())}}}function populateEmployee(){$dept_id=$("#cobDept").val();var b={type:C_GET,id:$dept_id};var a="request.pzx?c="+claim_group_emp_url+"&d="+new Date().getTime();callServer(a,"json",b,onClaimEmployeeResponse,claim_group_employee_obj)}function onClaimEmployeeResponse(f,g){if(g.status==C_OK){if(g.type==C_GET){var b=g.data.empList;var a=b.split("|");var e="";var d="";for(var c=0;c<a.length;c++){e=a[c].split(":");d+="<option value='"+e[0]+"'>"+e[1]+"</option>"}$("#cobEmp").html(d)}}}function deleteAllClaimGroupEmp(c){var b={type:C_DELETE,id:c};var a="request.pzx?c="+claim_group_emp_url+"&d="+new Date().getTime();callServer(a,"json",b,onClaimEmployeeResponse,claim_group_employee_obj)};